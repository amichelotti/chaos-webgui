<!DOCTYPE html>

<html>
<head>
    
    <title>Page Title</title>
    
    <link rel="stylesheet" href="webChaos/ammeter_vai.css" type="text/css" media="screen, projection" />
    <link rel="stylesheet" href="webChaos/reset.css" type="text/css" media="screen, projection" />
    <script type="text/Javascript" src="webChaos/chaos.js"></script
    <script type="text/Javascript" src="webChaos/jquery.js"></script>
    <script type="text/Javascript" src="webChaos/flot/jquery.flot.js"></script>
    <script type="text/Javascript" src="webChaos/powersupply.js"></script>
    
    
    <script language="javascript" type="text/javascript" src="webChaos/excanvas.min.js"></script>
	<script language="javascript" type="text/javascript" src="webChaos/jquery_new.js"></script>
	<script language="javascript" type="text/javascript" src="webChaos/jquery.flot.js"></script>
	
	
	<script language="javascript" type="text/javascript" src="webChaos/canvasjs.min.js"></script>

	
    
    
    <script>
        CULoad(null);
    </script>




</head>


<body onload="setInterval(CUupdateInterface, 2000);">

    <script type= "text/javascript">
        
           initializeCU(["ammeter"]);
            
        
        
        
        window.onload = function() {
	    
	    var dps = [];
	    var chart = new CanvasJS.Chart("chartgraph", {
		
		title: {
		    text: "LIve random"
		},
		
		data: [{
		    type: "line",
		    dataPoints: dps
		    
		} ]
		    
		});
	    
	    var xVal=0;
	    var yVal=100;
	    var updateInterval = 20;
	    var dataLenght = 500;
                        
		    var updateChart = function (count) {
			
			count = count || 1;
			
			for (var j=0; j<count; j++) {
			    
			   // yVal = yVal + Math.round(5 +  Math.random()* (-5-5));
			   
			   
			   yVal = yVal + document.getElementById("timestamp_0");

			    
			    dps.push ({
				x:xVal,
				y:yVal
				
				
			    });
			    
			    xVal++;
		    };
			if (dps.length > dataLenght) {

			    dps.shift();
			}
			    chart.render();
			    
		    };
        
	
	updateChart(dataLenght);
        
	setInterval(function(){updateChart()}, updateInterval);
	
	}
        
        
        
      /*  function maxcharacters(area,max,id_campo) {
            var conta = max-area.value.length;
            if (id_campo!=null) {
                document.getElementById(id_campo).innerHTML=conta;
            }
            
            if (conta<0) {
                area.value = area.value.substring(0,max);
                if (id_campo!=null) {
                    document.getElementById(id_campo).innerHTML = '0';
                }
            }
            
            
        } */
     

    </script>


    <div id= "container">
        
        <div id= "head_title">
            AMMETER ROOM <label id="name_0"></label>
            <!--textarea id="name_0" rows="1" cols="10"></textarea-->
        </div>
        
        
        <div id="sub_title">
        MONITORING
        </div>
        
        
        <div id="contenuto">
            <div id="parametro">PARAMETER</div>
            <div id="valore">VALUE</div>
            <div id="grafico">GRAPH</div>
            <div id="stato">STATE</div>
        </div>    
            
            
        <table id="bla">
            <tr>
                <td id="param">Voltage Phase1</td>
                <td id="inserisci"><textarea class="Indicator" id="U1N_0" rows="1" cols="10" digits="3">0</textarea></td>
                    <!--textarea id="U1N_0" rows="1" cols="6"></textarea-->
                <td id="chart">null</td>
                <td id="stato"><input id=readoutalarms_0 type=button value="" disabled="disabled"/></td>
            </tr>
                    
            <tr>
                <td id="param">Current Phase1</td>
                <td id="inserisci"><textarea class="Indicator" id="I1_0" rows="1" cols="10" digits="3">0</textarea><!--label id="I1_0"></label--></td>
                <td id="chart">null</td>
                <td id="stato"><input id=readoutalarms_0 type=button value="" disabled="disabled"/></td>
            </tr>
                    
            <tr>
                <td id="param">Total Power Factor</td>
                <td id="inserisci"><textarea class="Indicator" id="PFS_0" rows="1" cols="10" digits="3">0</textarea></td>
                <td id="chart">null</td>
                <td id="stato"><input id=readoutalarms_0 type=button value="" disabled="disabled"/></td>
            </tr>
                    
            <tr>
                <td id="param">Total Power Active</td>
                <td id="inserisci"><textarea class="Indicator" id="PS_0" rows="1" cols="10" digits="3">0</textarea></td>
                <td id="chart">null</td>
                <td id="stato"><input id=readoutalarms_0 type=button value="" disabled="disabled"/></td>
            </tr>
        </table>
        
        

            
        <button id="pulsante" onclick= "openWin()">Open in a smaller window</button>
            
        <button id="redirect" onclick= "initialSizeWin()">Espandi</button>
        
        <div id="info">
           <p><b>TimeStamp</b></p> <textarea class="Indicator" id="timestamp_0" rows="1" cols="10" digits="3">0</textarea>
            <p><b>Seconds</b></p><textarea class="Indicator" id="seconds_0" rows="1" cols="10" digits="3">0</textarea>
        </div>

        
        
        
<div id="chartgraph" style="height: 100px; width:100%;">
	</div>       		<!--div id="powersupply-graph_0" class="powersupply-graph-class"></div>
                
                
                <canvas class="flot-base" width="200" height="100" style="direction: ltr; position: absolute; width: 200px; height: 100px; border: 1px solid black;"></canvas>

                <div class="flot-text" style="position: absolute; bottom: 0px; right: 0px; font-size: smaller; color: rgb(84, 84, 84);">
                    <div class="flot-x-axis flot-x1-axis xAxis x1Axis" style="position: absolute; top: 0px; left: 0px; bottom: 0px; right: 0px; display: block;">

                    
                    
                    <div class="flot-tick-label tickLabel" style="position: absolute; max-width: 40px; top: 86px; left: 14px; text-align: center;">-1.0</div>
<div class="flot-tick-label tickLabel" style="position: absolute; max-width: 40px; top: 86px; left: 57px; text-align: center;">-0.5</div>
<div class="flot-tick-label tickLabel" style="position: absolute; max-width: 40px; top: 86px; left: 101px; text-align: center;">0.0</div>

                </div>
                    
                </div>

                
                
                <!--div id="powersupply-graph_0" class="powersupply-graph-class" style="padding: 0px; position: relative;">
<canvas class="flot-base" width="200" height="100" style="direction: ltr; position: absolute; left: 0px; top: 0px; width: 200px; height: 100px;"></canvas>
<div class="flot-text" style="position: absolute; top: 0px; left: 0px; bottom: 0px; right: 0px; font-size: smaller; color: rgb(84, 84, 84);">
<div class="flot-x-axis flot-x1-axis xAxis x1Axis" style="position: absolute; top: 0px; left: 0px; bottom: 0px; right: 0px; display: block;">
<div class="flot-tick-label tickLabel" style="position: absolute; max-width: 40px; top: 86px; left: 14px; text-align: center;">-1.0</div>
<div class="flot-tick-label tickLabel" style="position: absolute; max-width: 40px; top: 86px; left: 57px; text-align: center;">-0.5</div>
<div class="flot-tick-label tickLabel" style="position: absolute; max-width: 40px; top: 86px; left: 101px; text-align: center;">0.0</div>
<div class="flot-tick-label tickLabel" style="position: absolute; max-width: 40px; top: 86px; left: 143px; text-align: center;">0.5</div>
<div class="flot-tick-label tickLabel" style="position: absolute; max-width: 40px; top: 86px; left: 186px; text-align: center;">1.0</div></div>
<div class="flot-y-axis flot-y1-axis yAxis y1Axis" style="position: absolute; top: 0px; left: 0px; bottom: 0px; right: 0px; display: block;">
<div class="flot-tick-label tickLabel" style="position: absolute; top: 75px; left: 2px; text-align: right;">-1.0</div>
<div class="flot-tick-label tickLabel" style="position: absolute; top: 57px; left: 2px; text-align: right;">-0.5</div>
<div class="flot-tick-label tickLabel" style="position: absolute; top: 39px; left: 4px; text-align: right;">0.0</div>
<div class="flot-tick-label tickLabel" style="position: absolute; top: 20px; left: 4px; text-align: right;">0.5</div>
<div class="flot-tick-label tickLabel" style="position: absolute; top: 2px; left: 4px; text-align: right;">1.0</div>
</div>
</div>
<canvas class="flot-overlay" width="200" height="100" style="direction: ltr; position: absolute; left: 0px; top: 0px; width: 200px; height: 100px;">
</canvas></div-->
                

            
    </div>
          
</body>
</html>
